<div class="container mt-5">
    <mat-tab-group>

        <mat-tab>
            <ng-template mat-tab-label>
                <span class="text-danger badge badge-success">Product</span>
            </ng-template>

            <div class="container mt-4" *ngIf="cartArr.length > 0; else noProd">

                <div class="row justify-content-center">
                    <div class="col-md-10">

                        <mat-card class="shadow-lg rounded-lg p-3">
                            <h4 class="mb-3">My Cart</h4>

                            <div class="row align-items-center border-bottom py-3" *ngFor="let item of cartArr">

                                <div class="col-md-2 text-center">
                                    <img [src]="item.product.image" class="img-fluid"
                                        style="max-height: 80px; object-fit: contain;" />
                                </div>

                                <div class="col-md-4">
                                    <h6 class="m-0">{{ item.product.title }}</h6>
                                    <small class="text-muted">{{ item.product.category }}</small>

                                    <div class="mt-1">
                                        <span class="badge badge-success">
                                            {{ item.product.rating.rate }}
                                        </span>
                                        <small class="text-muted">
                                            ({{ item.product.rating.count }})
                                        </small>
                                    </div>
                                </div>

                                <div class="col-md-2 text-center">
                                    <div class="input-group input-group-sm">

                                        <button class="btn btn-outline-secondary" (click)="decrease(item)">-</button>

                                        <input type="text" class="form-control text-center" [value]="item.qty"
                                            readonly />

                                        <button class="btn btn-outline-secondary" (click)="increase(item)">+</button>

                                    </div>
                                </div>

                                <div class="col-md-2 text-center">
                                    <h6 class="m-0">
                                        ₹ {{ item.product.price * item.qty }}
                                    </h6>
                                </div>

                                <div class="col-md-2 text-right">
                                    <button class="btn btn-sm btn-outline-danger" (click)="remove(item)">
                                        <i class="fas fa-trash"></i> Remove
                                    </button>
                                </div>

                            </div>

                            <div class="row justify-content-end mt-3">
                                <div class="col-md-4">

                                    <div class="d-flex justify-content-between">
                                        <span>Subtotal</span>
                                        <strong>₹ {{ total |number:'1.2-2'}}</strong>
                                    </div>

                                    <div class="d-flex justify-content-between">
                                        <span>Delivery</span>
                                        <strong>₹ 0</strong>
                                    </div>

                                    <hr />

                                    <div class="d-flex justify-content-between">
                                        <span>Total</span>
                                        <strong>₹ {{ total |number:'1.2-2'}}</strong>
                                    </div>

                                    <button class="btn btn-primary btn-block mt-3" [routerLink]="['/buy']">
                                        Proceed to Checkout
                                    </button>

                                </div>
                            </div>

                        </mat-card>
                    </div>
                </div>
            </div>

        </mat-tab>

        <mat-tab>
            <ng-template mat-tab-label>
                <span class="text-danger badge badge-success">Grocery</span>
            </ng-template>

            <div class="container mt-4">
                <p class="text-center alert alert-info">
                    NO GROCERY ARE AVAILABLE
                </p>
            </div>
        </mat-tab>

    </mat-tab-group>
</div>

<ng-template #noProd>
    <div class="container cart">

        <!-- <div class="d-flex justify-content-end mb-3">
            <button mat-raised-button color="warn" routerLink="">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div> -->

        <div class="row justify-content-center">
            <div class="col-md-6 text-center">
                <p class="alert alert-info">No Products Are Available</p>

                <div class="mt-3">
                    <button class="btn btn-primary" routerLink="">
                        CONTINUE WITH SHOPPING
                    </button>
                </div>
            </div>
        </div>

    </div>
</ng-template>